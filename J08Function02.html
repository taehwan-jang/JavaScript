<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>J08Function02.html</title>
    <script>
      /*
        this.global ->전역번수
        globla -> w지역변수
        ※ 키워드 this는 JS에서 window객체를 가리키는 것으로
        전역변수를 구분할 떄 사용한다.
        */
      document.write("<h2>지역변수와 전역변수</h2>");
      var globalVar = 100; //전역변수 : 100

      function conflict(globalVar) {
        //매개변수:100
        this.globalVar = globalVar * 2; //전역변수:200 = 지역변수:100 * 2
        document.write("2<br>");
        document.write("함수1안 globalVar=" + globalVar + "<br>"); //지역변수:100
        document.write("함수1안 this.globalVar=" + this.globalVar + "<br>"); //전역변수:200
      }
      document.write("1<br>");
      conflict(globalVar); //함수호출(전역변수:100)
      document.write("3<br>");
      document.write("함수1밖 globalVar=" + globalVar + "<br>");
      //전역변수:200(함수안에서 변경됨)

      function conflict2(localVar) {
        //매개변수:200
        globalVar = localVar + 50; //충돌이 없으므로 전역변수:250 할당됨
        localVar = localVar + 80; //지역변수:280 할당됨;

        document.write("5<br>");
        document.write(
          "함수2안 globalVar=" + globalVar + ", localVar=" + localVar + "<br>"
        );
      }
      document.write("4<br>");
      conflict2(globalVar); //전역변수:200을 인수로 전달함.
      document.write("6<br>");
      /*
      localVar는 conflict2()의 지역변수로 선언되어, 전역적으로는
      선언된적이 없으므로 에러가 발생하게된다. 아래 부분은 주석으로
      처리한 후 실행해야 한다.
      */
      document.write(
        // "함수2밖 globalVar=" + globalVar + ", localVar=" + localVar + "<br>" ->에러발생됨
        "함수2밖 globalVar=" +
          globalVar +
          ", localVar=해당 지역에서 선언된적 없음<br>"
      );
    </script>
  </head>
  <body></body>
</html>
